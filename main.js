(()=>{"use strict";var t="";const i=t+"70766b80085cb2b58f01.png";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t,i){for(var r=0;r<i.length;r++){var o=i[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,n=function(t,i){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(n)?n:String(n)),o)}var n}var o=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._ctx=i,this._box=e,this._foodImg=null,this.position=null,this._create()}var e,o;return e=t,(o=[{key:"_create",value:function(){this._foodImg=new Image,this._foodImg.src=i}},{key:"init",value:function(){this.position={x:Math.floor(17*Math.random()+1)*this._box,y:Math.floor(15*Math.random()+3)*this._box}}},{key:"render",value:function(){this._ctx.drawImage(this._foodImg,this.position.x,this.position.y)}}])&&r(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();const n=t+"40bf83ece8392b2266b8.png";function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,i){if("object"!==s(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}var a=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._ctx=i,this.groundImg=null,this._create()}var i,e;return i=t,(e=[{key:"_create",value:function(){this.groundImg=new Image,this.groundImg.src=n}},{key:"render",value:function(){this._ctx.drawImage(this.groundImg,0,0)}}])&&u(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),t}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,i){if("object"!==c(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===c(o)?o:String(o)),r)}var o}var f=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._ctx=i,this._box=e,this.body=[],this._createHead()}var i,e;return i=t,(e=[{key:"_createHead",value:function(){this.body[0]={x:9*this._box,y:10*this._box}}},{key:"render",value:function(){var t=this;this.body.forEach((function(i,e){t._ctx.fillStyle=0===e?"green":"red",t._ctx.fillRect(i.x,i.y,t._box,t._box)}))}},{key:"moveTail",value:function(){this.body.pop()}},{key:"moveHead",value:function(t){this.body.unshift(t)}}])&&l(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),t}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function h(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,i){if("object"!==y(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}var b=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._box=i,this._dir=null,this._newDir=null,this._direction={r:"right",l:"left",u:"up",d:"down"},this.isPause=!1,document.addEventListener("keydown",this._eventHandler.bind(this))}var i,e;return i=t,(e=[{key:"_eventHandler",value:function(t){32===t.keyCode&&(this.isPause=!this.isPause),65===t.keyCode&&(this._newDir=this._direction.l),87===t.keyCode&&(this._newDir=this._direction.u),68===t.keyCode&&(this._newDir=this._direction.r),83===t.keyCode&&(this._newDir=this._direction.d)}},{key:"checkDir",value:function(){null===this._dir&&(this._dir=this._newDir),this._dir===this._direction.u&&this._newDir!==this._direction.d&&(this._dir=this._newDir),this._dir===this._direction.d&&this._newDir!==this._direction.u&&(this._dir=this._newDir),this._dir===this._direction.r&&this._newDir!==this._direction.l&&(this._dir=this._newDir),this._dir===this._direction.l&&this._newDir!==this._direction.r&&(this._dir=this._newDir)}},{key:"eatTail",value:function(t,i){var e=!1;return i.forEach((function(i){t.x===i.x&&t.y===i.y&&(e=!0)})),e}},{key:"move",value:function(t){var i=this._box;return this._dir===this._direction.d&&(t.y+=i),this._dir===this._direction.u&&(t.y-=i),this._dir===this._direction.l&&(t.x-=i),this._dir===this._direction.r&&(t.x+=i),t}},{key:"borderMode",value:function(t){if(t.x<this._box||t.x>17*this._box||t.y<3*this._box||t.y>17*this._box)return!0}},{key:"freeMode",value:function(t){return t.x<2*this._box&&this._dir===this._direction.l&&(t.x=18*this._box),t.x>16*this._box&&this._dir===this._direction.r&&(t.x=0),t.y<4*this._box&&this._dir===this._direction.u&&(t.y=18*this._box),t.y>16*this._box&&this._dir===this._direction.d&&(t.y=2*this._box),t}}])&&h(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),t}();function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function m(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,i){if("object"!==d(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===d(o)?o:String(o)),r)}var o}var v=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._ctx=i,this._box=e,this.score=0}var i,e;return i=t,(e=[{key:"render",value:function(){this._ctx.fillStyle="white",this._ctx.font="50px Arial",this._ctx.fillText(String(this.score),2.5*this._box,1.7*this._box)}},{key:"add",value:function(){this.score++}}])&&m(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),t}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function _(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,i){if("object"!==p(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===p(o)?o:String(o)),r)}var o}var w=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.rads=document.getElementsByName("borders")}var i,e;return i=t,(e=[{key:"_checkBorders",value:function(){this.rads.forEach((function(t){t.checked&&console.log(t.value)}))}},{key:"_addEventListener",value:function(){var t=this;this.form.addEventListener("submit",(function(i){i.preventDefault(),t._checkBorders()}))}}])&&_(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),t}();function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function x(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,i){if("object"!==g(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===g(o)?o:String(o)),r)}var o}new(function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.getElementById("snake"),this.canvas&&(this.ctx=this.canvas.getContext("2d"),this.game=null,this.box=32,this.food=new o(this.ctx,this.box),this.ground=new a(this.ctx),this.snake=new f(this.ctx,this.box),this.logic=new b(this.box),this.score=new v(this.ctx,this.box),this.params=new w,this.food.init(),this._runGame())}var i,e;return i=t,(e=[{key:"_drawGame",value:function(){if(this.ground.render(),this.food.render(),this.snake.render(),this.score.render(),!this.logic.isPause){var t={x:this.snake.body[0].x,y:this.snake.body[0].y};t.x===this.food.position.x&&t.y===this.food.position.y?(this.score.add(),this.food.init()):this.snake.moveTail(),this.logic.checkDir(),t=this.logic.freeMode(t),t=this.logic.move(t),this.logic.eatTail(t,this.snake.body)&&this._stopGame(),this.snake.moveHead(t)}}},{key:"_stopGame",value:function(){clearInterval(this.game)}},{key:"_runGame",value:function(){this.game=setInterval(this._drawGame.bind(this),100)}}])&&x(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),t}())})();